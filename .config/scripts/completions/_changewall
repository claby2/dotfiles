#compdef changewall

_changewall_flags=(
	"-i[Sets wallpaper to image from directory]"
	"(-l --list)"{-l,--list}"[Lists all available wallpapers]"
	"(-h --help)"{-h,--help}"[Prints help information]"
)

_changewall() {
	case $words[2] in
	-i)
		# Complete with available wallpapers.
		compadd "$@" - $(changewall --list)
		;;
	-*)
		# Complete flags.
		_arguments -s : "$_changewall_flags[@]"
		;;
	*)
		# Complete with local files.
		_arguments "*: :_files"
		;;
	esac
}

_changewall "$@"
